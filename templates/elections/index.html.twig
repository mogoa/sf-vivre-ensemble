{% extends 'base.html.twig' %}

{% block title %}Hello ElectionsController!{% endblock %}

{% block body %}

<section class="mx-auto max-w-8xl px-16 py-12">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <div class="md:border-r-4 md:border-default md:pr-8">
            <ol class="relative border-s border-default">
                {% for event in events %}
                    <li class="mb-10 ms-6">
                        {% if event.is_past %}
                            <span class="absolute flex items-center justify-center w-10 h-10 bg-green-100 rounded-full -start-3 ring-8 ring-buffer">
                                <svg class="w-6 h-6 text-green-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 6 9 17l-5-5"/></svg>
                            </span>
                        {% else %}
                        <span class="absolute flex items-center justify-center w-10 h-10 bg-brand-softer rounded-full -start-3 ring-8 ring-buffer">
                            <svg class="w-6 h-6 text-fg-brand-strong" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 10h16m-8-3V4M7 7V4m10 3V4M5 20h14a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1Zm3-7h.01v.01H8V13Zm4 0h.01v.01H12V13Zm4 0h.01v.01H16V13Zm-8 4h.01v.01H8V17Zm4 0h.01v.01H12V17Zm4 0h.01v.01H16V17Z"/></svg>
                        </span>
                        {% endif %}
                        <time class="bg-buffer border border-default-medium text-heading text-lg font-medium px-10 py-0.5 rounded">{{ event.date|format_datetime('full', 'none', locale: 'fr') }}</time>
                        <h3 class="flex items-center mb-1 text-lg  text-heading my-4 px-5">{{ event.title }}
                            {% if event.is_today %}
                                <span class="ms-2 bg-brand-softer border border-brand-subtle text-fg-brand-strong text-xs font-medium px-1.5 py-0.5 rounded">
                                    Aujourd’hui
                                </span>
                            {% elseif event.is_soon %}
                                <span class="ms-2 bg-amber-50 border border-amber-200 text-amber-800 text-xs font-medium px-1.5 py-0.5 rounded">
                                    À venir
                                </span>
                            {% endif %}
                        </h3>
                    </li>

                {% endfor %}
                </ol>
            </div>

        {# Colonne droite : vidéo + texte #}
        <div class="md:pl-8 flex flex-col gap-6">
            <div class="aspect-video rounded-lg overflow-hidden border border-default bg-black">
                {# Remplace l’URL par ta vidéo (YouTube, iframe, etc.) #}
                <iframe
                    referrerpolicy="strict-origin-when-cross-origin"
                    class="w-full h-full"
                    src="https://www.youtube.com/embed/v5kLYhPNPck?si=LxAy8dpXcP9VyGLv"
                    title="Vidéo de campagne"
                    frameborder="0"
                    allowfullscreen
                ></iframe>
            </div>

            <a
                href="https://www.vie-publique.fr/fiches/20203-municipales-quel-mode-de-scrutin-dans-les-communes-de-moins-de-1000-hab"
                target="_blank"
                rel="noopener noreferrer"
                class="inline-flex items-center justify-center p-5 text-base font-medium border-l-4 border-[#4ECDC4] hover:border-[#26A69A] text-body rounded-base bg-neutral-secondary-soft  hover:bg-[#4ECDC4]/20 hover:text-heading">
                    <span class="w-full">Quel est le mode de scrutin des élections municipales dans les communes de moins de 1 000 habitants ?</span>
            </a>
            <a
                href="https://www.vie-publique.fr/elections-municipales-et-communautaires-des-15-et-22-mars-2026"
                target="_blank"
                rel="noopener noreferrer"
                class="inline-flex items-center justify-center p-5 text-base font-medium border-l-4 border-[#4ECDC4] hover:border-[#26A69A] text-body rounded-base bg-neutral-secondary-soft  hover:bg-[#4ECDC4]/20 hover:text-heading">
                    <span class="w-full">Élections municipales 15 et 22 mars 2026</span>
            </a>
            <a
                href="https://www.service-public.gouv.fr/particuliers/vosdroits/R51788"
                target="_blank"
                rel="noopener noreferrer"
                class="inline-flex items-center justify-center p-5 text-base font-medium border-l-4 border-[#4ECDC4] hover:border-[#26A69A] text-body rounded-base bg-neutral-secondary-soft  hover:bg-[#4ECDC4]/20 hover:text-heading">
                    <span class="w-full">Vérifier votre inscription électorale et votre bureau de vote</span>
            </a>
        </div>
    </div>
</section>

{% endblock %}
